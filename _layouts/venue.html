---
layout: default
---

<article class="venue">

  <h2>{{ page.name }}</h2>

  {% if page.address %}
    <p><strong>Address:</strong> {{ page.address }}</p>
  {% endif %}

  {% if page.city %}
    <p><strong>City:</strong> {{ page.city }}</p>
  {% endif %}

  {% if page.website %}
    <p>
      <a href="{{ page.website }}" target="_blank">Website</a>
    </p>
  {% endif %}

  <div class="description">
    {{ content }}
  </div>

  {% assign venue_concerts = site.concerts | where: "venue", page.slug %}

  {% if venue_concerts.size > 0 %}
    <h3>Concerts at this venue</h3>
    <ul>
      {% for concert in venue_concerts %}
        <li>
          <a href="{{ concert.url | relative_url }}">
            {{ concert.title }}
          </a>
          {% if concert.start %}
            â€“ {{ concert.start | date: "%d %B %Y" }}
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  {% endif %}

  {% if page.coordinates %}
    <div id="venue-map" style="height: 300px; margin-top: 1em;"></div>
  {% endif %}

</article>

{% if page.coordinates %}
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      var map = L.map('venue-map').setView([{{ page.coordinates[0] }}, {{ page.coordinates[1] }}], 16);

      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',
      }).addTo(map);

      L.marker([{{ page.coordinates[0] }}, {{ page.coordinates[1] }}])
        .addTo(map)
        .bindPopup('<strong><a href="{{ page.url | relative_url }}">{{ page.name }}</a></strong><br>{{ page.address }}');
    });
  </script>
{% endif %}
